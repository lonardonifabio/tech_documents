---
import Layout from '../layouts/Layout.astro';

// Sample document for testing
const sampleDoc = {
  id: "test-doc-001",
  filename: "AI_Governance_Framework_Test.pdf",
  title: "AI Governance Framework: A Comprehensive Guide",
  summary: "This document provides a comprehensive framework for implementing AI governance in organizations. It covers key principles, best practices, risk management strategies, and compliance requirements for responsible AI deployment.",
  authors: ["Dr. Sarah Johnson", "Prof. Michael Chen"],
  keywords: ["AI Governance", "Risk Management", "Compliance", "Ethics", "Framework"],
  key_concepts: [
    "Establishing clear AI governance policies and procedures",
    "Implementing risk assessment frameworks for AI systems",
    "Ensuring compliance with regulatory requirements and ethical standards"
  ],
  category: "AI",
  difficulty: "Intermediate",
  filepath: "documents/AI_Governance_Framework_Test.pdf",
  file_size: 2457600, // 2.4 MB
  upload_date: "2025-01-28",
  content_preview: "AI governance is becoming increasingly critical as organizations deploy AI systems at scale. This framework provides practical guidance for establishing robust governance structures.",
  target_audience: "AI practitioners, compliance officers, and organizational leaders",
  industry: ["Technology", "Finance", "Healthcare"],
  business_functions: ["Risk Management", "Compliance", "Strategy"],
  companies: ["Microsoft", "Google", "IBM"],
  technologies: ["Machine Learning", "Deep Learning", "Natural Language Processing"],
  processes: ["Risk Assessment", "Model Validation", "Compliance Monitoring"],
  technical_terms: ["Algorithm Bias", "Model Interpretability", "Data Lineage"],
  methodologies: ["Agile AI Development", "DevOps for ML", "Continuous Monitoring"],
  tools_mentioned: ["TensorFlow", "PyTorch", "MLflow"],
  prerequisites: ["Basic understanding of AI/ML concepts", "Familiarity with governance frameworks"],
  learning_objectives: [
    "Understand key principles of AI governance",
    "Learn to implement risk management frameworks",
    "Develop compliance monitoring strategies"
  ],
  use_cases: [
    "Enterprise AI deployment governance",
    "Regulatory compliance for AI systems",
    "Risk management for machine learning models"
  ],
  benefits_mentioned: [
    "Reduced regulatory risk",
    "Improved AI system reliability",
    "Enhanced stakeholder trust"
  ],
  challenges_addressed: [
    "Lack of standardized AI governance frameworks",
    "Difficulty in measuring AI system risks",
    "Complex regulatory landscape"
  ],
  best_practices: [
    "Establish clear AI governance committees",
    "Implement continuous monitoring systems",
    "Maintain comprehensive documentation"
  ],
  questions_and_answers: [
    "Q: How often should AI governance policies be reviewed? A: At least annually or when significant changes occur in the AI landscape.",
    "Q: What are the key components of an AI risk assessment? A: Technical risks, ethical considerations, regulatory compliance, and business impact."
  ]
};
---

<Layout title="LinkedIn Sharing Test - Enhanced Preview Demo">
  <div class="min-h-screen bg-gray-50 py-8">
    <div class="max-w-4xl mx-auto px-4">
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-4">
          ðŸš€ Enhanced LinkedIn Sharing Test
        </h1>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          Test the new LinkedIn sharing functionality with custom preview generation and enhanced content.
        </p>
      </div>

      <!-- Demo Component Container -->
      <div id="demo-container" class="mb-8">
        <!-- React component will be mounted here -->
      </div>

      <!-- Features Overview -->
      <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">âœ¨ New Features</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-semibold text-gray-700 mb-3">ðŸŽ¨ Custom Preview Generation</h3>
            <ul class="text-sm text-gray-600 space-y-2">
              <li>â€¢ Document-specific preview images</li>
              <li>â€¢ Category-based color schemes</li>
              <li>â€¢ Professional branding and layout</li>
              <li>â€¢ LinkedIn-optimized dimensions (1200x630)</li>
            </ul>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-gray-700 mb-3">ðŸ“¤ Enhanced Sharing Options</h3>
            <ul class="text-sm text-gray-600 space-y-2">
              <li>â€¢ Share with custom preview image</li>
              <li>â€¢ Share with document attachment</li>
              <li>â€¢ Mobile-optimized native sharing</li>
              <li>â€¢ Rich content with metadata</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Sample Document Info -->
      <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">ðŸ“„ Test Document</h2>
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <h3 class="font-semibold text-gray-700 mb-2">Document Details</h3>
            <div class="space-y-2 text-sm">
              <p><strong>Title:</strong> {sampleDoc.title}</p>
              <p><strong>Category:</strong> <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded">{sampleDoc.category}</span></p>
              <p><strong>Difficulty:</strong> <span class="bg-orange-100 text-orange-800 px-2 py-1 rounded">{sampleDoc.difficulty}</span></p>
              <p><strong>Authors:</strong> {sampleDoc.authors.join(', ')}</p>
            </div>
          </div>
          <div>
            <h3 class="font-semibold text-gray-700 mb-2">Keywords</h3>
            <div class="flex flex-wrap gap-1">
              {sampleDoc.keywords.map(keyword => (
                <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs">
                  {keyword}
                </span>
              ))}
            </div>
          </div>
        </div>
        <div class="mt-4">
          <h3 class="font-semibold text-gray-700 mb-2">Summary</h3>
          <p class="text-sm text-gray-600 leading-relaxed">{sampleDoc.summary}</p>
        </div>
      </div>

      <!-- Instructions -->
      <div class="bg-blue-50 rounded-lg p-6">
        <h2 class="text-xl font-bold text-blue-800 mb-4">ðŸ“‹ Testing Instructions</h2>
        <div class="space-y-3 text-sm text-blue-700">
          <div>
            <strong>1. Generate Custom Preview:</strong>
            <p>Click "Generate Custom Preview" to create a document-specific preview image using the new Canvas-based generator.</p>
          </div>
          <div>
            <strong>2. Test LinkedIn Sharing:</strong>
            <p>Click "Share on LinkedIn" to test the enhanced sharing functionality with custom preview and rich content.</p>
          </div>
          <div>
            <strong>3. Mobile Testing:</strong>
            <p>Test on mobile devices to experience native sharing APIs and file attachment features.</p>
          </div>
          <div>
            <strong>4. Compare Results:</strong>
            <p>Compare the new custom previews with the previous generic preview images on LinkedIn.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- React Component Script -->
  <script>
    import('../components/LinkedInPreviewDemo.tsx').then(module => {
      const LinkedInPreviewDemo = module.default;
      const container = document.getElementById('demo-container');
      
      if (container && typeof React !== 'undefined' && typeof ReactDOM !== 'undefined') {
        const sampleDoc = {
          id: "test-doc-001",
          filename: "AI_Governance_Framework_Test.pdf",
          title: "AI Governance Framework: A Comprehensive Guide",
          summary: "This document provides a comprehensive framework for implementing AI governance in organizations. It covers key principles, best practices, risk management strategies, and compliance requirements for responsible AI deployment.",
          authors: ["Dr. Sarah Johnson", "Prof. Michael Chen"],
          keywords: ["AI Governance", "Risk Management", "Compliance", "Ethics", "Framework"],
          key_concepts: [
            "Establishing clear AI governance policies and procedures",
            "Implementing risk assessment frameworks for AI systems",
            "Ensuring compliance with regulatory requirements and ethical standards"
          ],
          category: "AI",
          difficulty: "Intermediate",
          filepath: "documents/AI_Governance_Framework_Test.pdf",
          file_size: 2457600,
          upload_date: "2025-01-28",
          content_preview: "AI governance is becoming increasingly critical as organizations deploy AI systems at scale. This framework provides practical guidance for establishing robust governance structures.",
          target_audience: "AI practitioners, compliance officers, and organizational leaders",
          industry: ["Technology", "Finance", "Healthcare"],
          business_functions: ["Risk Management", "Compliance", "Strategy"],
          companies: ["Microsoft", "Google", "IBM"],
          technologies: ["Machine Learning", "Deep Learning", "Natural Language Processing"],
          processes: ["Risk Assessment", "Model Validation", "Compliance Monitoring"],
          technical_terms: ["Algorithm Bias", "Model Interpretability", "Data Lineage"],
          methodologies: ["Agile AI Development", "DevOps for ML", "Continuous Monitoring"],
          tools_mentioned: ["TensorFlow", "PyTorch", "MLflow"],
          prerequisites: ["Basic understanding of AI/ML concepts", "Familiarity with governance frameworks"],
          learning_objectives: [
            "Understand key principles of AI governance",
            "Learn to implement risk management frameworks",
            "Develop compliance monitoring strategies"
          ],
          use_cases: [
            "Enterprise AI deployment governance",
            "Regulatory compliance for AI systems",
            "Risk management for machine learning models"
          ],
          benefits_mentioned: [
            "Reduced regulatory risk",
            "Improved AI system reliability",
            "Enhanced stakeholder trust"
          ],
          challenges_addressed: [
            "Lack of standardized AI governance frameworks",
            "Difficulty in measuring AI system risks",
            "Complex regulatory landscape"
          ],
          best_practices: [
            "Establish clear AI governance committees",
            "Implement continuous monitoring systems",
            "Maintain comprehensive documentation"
          ],
          questions_and_answers: [
            "Q: How often should AI governance policies be reviewed? A: At least annually or when significant changes occur in the AI landscape.",
            "Q: What are the key components of an AI risk assessment? A: Technical risks, ethical considerations, regulatory compliance, and business impact."
          ]
        };

        ReactDOM.render(
          React.createElement(LinkedInPreviewDemo, { doc: sampleDoc }),
          container
        );
      } else {
        container.innerHTML = `
          <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
            <p class="text-yellow-800">
              <strong>Note:</strong> This demo requires React to be loaded. 
              Please ensure the React components are properly configured in your Astro setup.
            </p>
          </div>
        `;
      }
    }).catch(error => {
      console.error('Error loading demo component:', error);
      const container = document.getElementById('demo-container');
      if (container) {
        container.innerHTML = `
          <div class="bg-red-50 border border-red-200 rounded-lg p-4">
            <p class="text-red-800">
              <strong>Error:</strong> Could not load the demo component. 
              Please check the console for more details.
            </p>
          </div>
        `;
      }
    });
  </script>
</Layout>
