import{r as d}from"./index.CVf8TyFT.js";var E={exports:{}},O={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A=d,L=Symbol.for("react.element"),U=Symbol.for("react.fragment"),$=Object.prototype.hasOwnProperty,M=A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I={key:!0,ref:!0,__self:!0,__source:!0};function F(t,s,m){var r,l={},f=null,u=null;m!==void 0&&(f=""+m),s.key!==void 0&&(f=""+s.key),s.ref!==void 0&&(u=s.ref);for(r in s)$.call(s,r)&&!I.hasOwnProperty(r)&&(l[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)l[r]===void 0&&(l[r]=s[r]);return{$$typeof:L,type:t,key:f,ref:u,props:l,_owner:M.current}}O.Fragment=U;O.jsx=F;O.jsxs=F;E.exports=O;var e=E.exports;const z=({doc:t,isOpen:s,onClose:m})=>{const[r,l]=d.useState(!1),f=o=>{const N=`https://raw.githubusercontent.com/lonardonifabio/tech_documents/main/${o.filepath}`;return`https://mozilla.github.io/pdf.js/web/viewer.html?file=${encodeURIComponent(N)}`},u=o=>{o.target===o.currentTarget&&m()},j=o=>{o.key==="Escape"&&m()};return d.useEffect(()=>{if(s)return document.addEventListener("keydown",j),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",j),document.body.style.overflow="unset"}},[s]),s?e.jsx("div",{className:"modal-overlay",onClick:u,children:e.jsxs("div",{className:"modal-content",children:[e.jsx("button",{onClick:m,className:"close-button",title:"Close preview (ESC)",children:"×"}),e.jsx("div",{className:"modal-header",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate pr-12",children:t.title||t.filename})}),e.jsx("div",{className:"modal-body",children:r?e.jsx("div",{className:"flex items-center justify-center h-full bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Unable to load PDF"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"The PDF could not be displayed in the viewer."}),e.jsx("a",{href:`https://raw.githubusercontent.com/lonardonifabio/tech_documents/main/${t.filepath}`,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Download PDF"})]})}):e.jsx("iframe",{src:f(t),className:"modal-iframe",onError:()=>l(!0),title:`Preview of ${t.title||t.filename}`})})]})}):null},B=({doc:t})=>{const[s,m]=d.useState(!1),[r,l]=d.useState(!1),f=n=>{const x={AI:{gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",icon:"🤖"},"Machine Learning":{gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",icon:"🧠"},"Data Science":{gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",icon:"📊"},Business:{gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",icon:"💼"},Technology:{gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",icon:"⚙️"},Research:{gradient:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",icon:"🔬"}},_=x[n.category]||x.Technology;return{background:_.gradient,icon:_.icon}},u=(n,x=40)=>n.length<=x?n:n.substring(0,x-3)+"...",j=(n,x=400)=>n.length<=x?n:n.substring(0,x)+"...",o=n=>new Date(n).toLocaleDateString("en-US"),N=n=>`${(n/1048576).toFixed(1)} MB`,i=s?t.summary:j(t.summary),w=t.title||t.filename,k=f(t);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border rounded-lg hover:shadow-xl transition-all duration-300 bg-white document-card overflow-hidden h-full flex flex-col",children:[e.jsxs("div",{className:"h-32 w-full relative overflow-hidden",children:[e.jsx("div",{className:"document-preview cursor-pointer h-full",style:{background:k.background},onClick:()=>l(!0),title:"Click to preview PDF",children:e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"text-3xl mb-1",children:k.icon}),e.jsx("div",{className:"text-xs font-medium opacity-90",children:u(w,20)}),e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"Click to preview"})]})}),e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("span",{className:"bg-white bg-opacity-90 text-gray-800 px-2 py-1 rounded text-xs font-medium",children:t.category})})]}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-semibold text-base mb-2 text-gray-800 line-clamp-2 leading-tight",title:w,children:u(w,60)}),t.authors&&t.authors.length>0&&e.jsx("div",{className:"mb-2",children:e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Authors:"})," ",t.authors.join(", ")]})}),e.jsxs("div",{className:"mb-4 flex-1",children:[e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:i}),t.summary.length>400&&e.jsx("button",{onClick:()=>m(!s),className:"text-blue-600 text-xs mt-1 hover:underline focus:outline-none",children:s?"Show less":"Show more"})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:t.keywords.map(n=>e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:n},n))}),e.jsxs("div",{className:"mt-auto space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:t.difficulty}),e.jsx("span",{className:"text-xs text-gray-500",children:o(t.upload_date)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:N(t.file_size)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l(!0),className:"bg-green-600 text-white px-3 py-1 rounded-full text-xs font-medium hover:bg-green-700 transition-colors duration-200",children:"Preview"}),e.jsx("a",{href:`https://raw.githubusercontent.com/lonardonifabio/tech_documents/main/${t.filepath}`,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-medium hover:bg-blue-700 transition-colors duration-200",children:"Download"})]})]})]})]})]}),e.jsx(z,{doc:t,isOpen:r,onClose:()=>l(!1)})]})},Q=({searchTerm:t,setSearchTerm:s,selectedCategory:m,setSelectedCategory:r,selectedDifficulty:l,setSelectedDifficulty:f,categories:u,difficulties:j})=>{const[o,N]=d.useState(!1);return e.jsxs("div",{className:"mb-8 space-y-4 bg-white p-6 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"🔍 Search with boolean operators: machine learning AND python OR 'data science' NOT statistics",className:"w-full p-3 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:t,onChange:i=>s(i.target.value)}),e.jsx("button",{onClick:()=>N(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-500 transition-colors",title:"Search help",children:"❓"})]}),o&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"🔍 Advanced Search Guide"}),e.jsxs("div",{className:"space-y-2 text-blue-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"AND:"})," ",e.jsx("span",{className:"bg-gray-200 px-1 rounded",children:"machine learning AND python"})," - Both terms must be present"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"OR:"})," ",e.jsx("span",{className:"bg-gray-200 px-1 rounded",children:"python OR javascript"})," - Either term can be present"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"NOT:"})," ",e.jsx("span",{className:"bg-gray-200 px-1 rounded",children:"data science NOT statistics"}),' - Exclude documents with "statistics"']}),e.jsxs("div",{children:[e.jsx("strong",{children:"Quotes:"})," ",e.jsx("span",{className:"bg-gray-200 px-1 rounded",children:'"machine learning"'})," - Exact phrase search"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Combine:"})," ",e.jsx("span",{className:"bg-gray-200 px-1 rounded",children:'python AND "data science" OR visualization NOT excel'})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("select",{className:"p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",value:m,onChange:i=>r(i.target.value),children:[e.jsx("option",{value:"",children:"📂 All categories"}),u.map(i=>e.jsx("option",{value:i,children:i},i))]}),e.jsxs("select",{className:"p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",value:l,onChange:i=>f(i.target.value),children:[e.jsx("option",{value:"",children:"🎯 All levels"}),j.map(i=>e.jsx("option",{value:i,children:i},i))]})]})]})},W=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading documents..."})]})}),G=({error:t,onRetry:s})=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Loading error"}),e.jsx("p",{className:"text-gray-500 mb-4",children:t}),e.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Retry"})]})}),q=()=>{const[t,s]=d.useState([]),[m,r]=d.useState([]),[l,f]=d.useState(""),[u,j]=d.useState(""),[o,N]=d.useState(""),[i,w]=d.useState(!0),[k,n]=d.useState(null);d.useEffect(()=>{(async()=>{const v=["/tech_documents/data/documents.json","./data/documents.json","data/documents.json","/data/documents.json"];for(const C of v)try{console.log(`Trying to fetch from: ${C}`);const S=await fetch(C);if(S.ok){const D=await S.json();console.log("Successfully loaded documents:",D),s(D),r(D),w(!1);return}}catch(S){console.log(`Failed to fetch from ${C}:`,S)}n("Unable to load documents from any path"),w(!1)})()},[]);const x=(a,v)=>{if(!v.trim())return a;const C=p=>{const h=p.split(/\s+(AND|OR|NOT)\s+/i),b=[];for(let y=0;y<h.length;y++){const c=h[y].trim();if(c&&!["AND","OR","NOT"].includes(c.toUpperCase())){const g=c.startsWith('"')&&c.endsWith('"'),T=g?c.slice(1,-1):c;b.push({term:T.toLowerCase(),operator:y>0?h[y-1].toUpperCase():"AND",isQuoted:g,isNegated:y>0&&h[y-1].toUpperCase()==="NOT"})}}return b.length>0?b:[{term:p.toLowerCase(),operator:"AND",isQuoted:!1,isNegated:!1}]},S=(p,h)=>{const{term:b,isQuoted:y}=h,c=[p.filename||"",p.title||"",p.summary||"",(p.authors||[]).join(" "),(p.keywords||[]).join(" ")].map(g=>g.toLowerCase());return y?c.some(g=>g.includes(b)):b.split(/\s+/).every(T=>c.some(R=>R.includes(T)))},D=C(v);return a.filter(p=>{let h=!0,b=!1;for(const c of D){const g=S(p,c);if(c.isNegated){if(g){h=!1;break}}else b=b||g,c.operator==="AND"?h=h&&g:c.operator==="OR"&&(h=h||g)}return D.every(c=>c.isNegated)?h:h&&b})};d.useEffect(()=>{let a=t;l&&(a=x(a,l)),u&&(a=a.filter(v=>v.category===u)),o&&(a=a.filter(v=>v.difficulty===o)),r(a)},[l,u,o,t]);const _=[...new Set(t.map(a=>a.category))],P=[...new Set(t.map(a=>a.difficulty))];return i?e.jsx(W,{}):k?e.jsx(G,{error:k,onRetry:()=>window.location.reload()}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("header",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"🤖 AI & Data Science Library"}),e.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Automated collection of Artificial Intelligence and Data Science documents"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.length," documents • Click any document to preview"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Developed by ",e.jsx("a",{href:"https://www.fabiolonardoni.it",className:"text-blue-500 hover:underline",children:"Fabio Lonardoni"})]})]}),e.jsx(Q,{searchTerm:l,setSearchTerm:f,selectedCategory:u,setSelectedCategory:j,selectedDifficulty:o,setSelectedDifficulty:N,categories:_,difficulties:P}),m.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 text-sm text-gray-600 bg-white px-4 py-2 rounded-lg inline-block",children:["📊 Showing ",m.length," of ",t.length," documents"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(a=>e.jsx(B,{doc:a},a.id))})]}):e.jsxs("div",{className:"text-center py-16 bg-white rounded-lg",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📭"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No documents found"}),e.jsx("p",{className:"text-gray-500",children:"Try modifying your search criteria"})]})]})})};export{q as default};
