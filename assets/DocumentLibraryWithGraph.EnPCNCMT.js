import{r as a}from"./index.CVf8TyFT.js";var H={exports:{}},K={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J=a,Y=Symbol.for("react.element"),X=Symbol.for("react.fragment"),Z=Object.prototype.hasOwnProperty,ee=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,se={key:!0,ref:!0,__self:!0,__source:!0};function W(t,s,n){var r,c={},u=null,h=null;n!==void 0&&(u=""+n),s.key!==void 0&&(u=""+s.key),s.ref!==void 0&&(h=s.ref);for(r in s)Z.call(s,r)&&!se.hasOwnProperty(r)&&(c[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)c[r]===void 0&&(c[r]=s[r]);return{$$typeof:Y,type:t,key:u,ref:h,props:c,_owner:ee.current}}K.Fragment=X;K.jsx=W;K.jsxs=W;H.exports=K;var e=H.exports;const Q=({doc:t,isOpen:s,onClose:n})=>s?e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.title||t.filename}),e.jsx("button",{onClick:n,className:"close-button",children:"×"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("p",{className:"p-6 text-gray-600",children:"PDF modal component will be implemented here."}),e.jsxs("p",{className:"px-6 text-sm text-gray-500",children:["Document: ",t.filename]})]})]})}):null,te=({doc:t,autoOpen:s=!1})=>{const[n,r]=a.useState(!1),[c,u]=a.useState(s),h=l=>`/tech_documents_core/preview/${l.id}.jpg`,v=l=>{const m={AI:{gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",icon:"🤖"},"Machine Learning":{gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",icon:"🧠"},"Data Science":{gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",icon:"📊"},Business:{gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",icon:"💼"},Technology:{gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",icon:"⚙️"},Research:{gradient:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",icon:"🔬"}},D=m[l.category]||m.Technology;return{background:D.gradient,icon:D.icon}},y=(l,m=40)=>l.length<=m?l:l.substring(0,m-3)+"...",A=(l,m=150)=>l.length<=m?l:l.substring(0,m)+"...",o=l=>new Date(l).toLocaleDateString("en-US"),I=l=>`${(l/1048576).toFixed(1)} MB`,k=n?t.summary:A(t.summary),C=t.title||t.filename,T=h(t),w=v(t);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border rounded-lg hover:shadow-xl transition-all duration-300 bg-white document-card overflow-hidden h-full flex flex-col",children:[e.jsxs("div",{className:"h-32 w-full relative overflow-hidden",children:[e.jsxs("div",{className:"cursor-pointer h-full relative",onClick:()=>u(!0),title:"Click to preview PDF",children:[e.jsx("img",{src:T,alt:`Preview of ${C}`,className:"w-full h-full object-cover",onError:l=>{const m=l.target;m.style.display="none";const D=m.nextElementSibling;D&&(D.style.display="flex")}}),e.jsx("div",{className:"document-preview absolute inset-0 flex items-center justify-center",style:{background:w.background,display:"none"},children:e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"text-3xl mb-1",children:w.icon}),e.jsx("div",{className:"text-xs font-medium opacity-90",children:y(C,20)}),e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"Click to preview"})]})})]}),e.jsx("div",{className:"absolute top-2 right-2 z-20",children:e.jsx("span",{className:"bg-white bg-opacity-90 text-gray-800 px-2 py-1 rounded text-xs font-medium",children:t.category})})]}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-semibold text-base mb-2 text-gray-800 line-clamp-2 leading-tight",title:C,children:y(C,60)}),t.authors&&t.authors.length>0&&e.jsx("div",{className:"mb-2",children:e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Authors:"})," ",t.authors.join(", ")]})}),e.jsxs("div",{className:"mb-4 flex-1",children:[e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:k}),t.summary.length>150&&e.jsx("button",{onClick:()=>r(!n),className:"text-blue-600 text-xs mt-1 hover:underline focus:outline-none font-medium",children:n?"Show less":"Read more"})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:t.keywords.map(l=>e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:l},l))}),e.jsxs("div",{className:"mt-auto space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-medium",children:t.difficulty}),e.jsx("span",{className:"text-xs text-gray-500",children:o(t.upload_date)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:I(t.file_size)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>u(!0),className:"bg-green-600 text-white px-3 py-1 rounded-full text-xs font-medium hover:bg-green-700 transition-colors duration-200",children:"Preview"}),e.jsx("a",{href:`https://raw.githubusercontent.com/lonardonifabio/tech_documents/main/${t.filepath}`,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-medium hover:bg-blue-700 transition-colors duration-200",children:"Download"})]})]})]})]})]}),e.jsx(Q,{doc:t,isOpen:c,onClose:()=>u(!1)})]})},re=({searchTerm:t,setSearchTerm:s,selectedCategory:n,setSelectedCategory:r,selectedDifficulty:c,setSelectedDifficulty:u,categories:h,difficulties:v})=>{const[y,A]=a.useState(!1);return e.jsxs("div",{className:"mb-8 space-y-4 bg-white p-6 rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"🔍 Search with boolean operators: machine learning AND python OR 'data science' NOT statistics",className:"w-full p-3 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",value:t,onChange:o=>s(o.target.value)}),e.jsx("button",{onClick:()=>A(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-500 transition-colors",title:"Search help",children:"❓"})]}),y&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"🔍 Advanced Search Guide"}),e.jsxs("div",{className:"space-y-2 text-blue-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"AND:"})," ",e.jsx("span",{className:"bg-gray-200 px-1 rounded",children:"machine learning AND python"})," - Both terms must be present"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"OR:"})," ",e.jsx("span",{className:"bg-gray-200 px-1 rounded",children:"python OR javascript"})," - Either term can be present"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"NOT:"})," ",e.jsx("span",{className:"bg-gray-200 px-1 rounded",children:"data science NOT statistics"}),' - Exclude documents with "statistics"']}),e.jsxs("div",{children:[e.jsx("strong",{children:"Quotes:"})," ",e.jsx("span",{className:"bg-gray-200 px-1 rounded",children:'"machine learning"'})," - Exact phrase search"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Combine:"})," ",e.jsx("span",{className:"bg-gray-200 px-1 rounded",children:'python AND "data science" OR visualization NOT excel'})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("select",{className:"p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",value:n,onChange:o=>r(o.target.value),children:[e.jsx("option",{value:"",children:"📂 All categories"}),h.map(o=>e.jsx("option",{value:o,children:o},o))]}),e.jsxs("select",{className:"p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",value:c,onChange:o=>u(o.target.value),children:[e.jsx("option",{value:"",children:"🎯 All levels"}),v.map(o=>e.jsx("option",{value:o,children:o},o))]})]})]})},ne=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading documents..."})]})}),ae=({error:t,onRetry:s})=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Loading error"}),e.jsx("p",{className:"text-gray-500 mb-4",children:t}),e.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Retry"})]})}),le=({onKnowledgeGraphClick:t,onFilteredDocumentsChange:s})=>{const[n,r]=a.useState([]),[c,u]=a.useState([]),[h,v]=a.useState([]),[y,A]=a.useState(""),[o,I]=a.useState(""),[k,C]=a.useState(""),[T,w]=a.useState(!0),[l,m]=a.useState(null),[D,G]=a.useState(1),[M,$]=a.useState(!1),[E,f]=a.useState(null),d=20;a.useEffect(()=>{(async()=>{const O=["/tech_documents/data/documents.json","/data/documents.json","./data/documents.json"];for(const P of O)try{console.log(`Trying to fetch from: ${P}`);const S=await fetch(P);if(S.ok){const b=await S.json();console.log("Successfully loaded documents:",b);const x=b.sort((j,p)=>new Date(p.upload_date).getTime()-new Date(j.upload_date).getTime());if(r(x),u(x),w(!1),typeof window<"u"){const p=new URLSearchParams(window.location.search).get("doc");p&&f(p)}return}}catch(S){console.log(`Failed to fetch from ${P}:`,S)}m("Unable to load documents from any path"),w(!1)})()},[]);const U=(i,_)=>{if(!_.trim())return i;const O=b=>{const x=b.split(/\s+(AND|OR|NOT)\s+/i),j=[];for(let p=0;p<x.length;p++){const g=x[p].trim();if(g&&!["AND","OR","NOT"].includes(g.toUpperCase())){const N=g.startsWith('"')&&g.endsWith('"'),B=N?g.slice(1,-1):g;j.push({term:B.toLowerCase(),operator:p>0?x[p-1].toUpperCase():"AND",isQuoted:N,isNegated:p>0&&x[p-1].toUpperCase()==="NOT"})}}return j.length>0?j:[{term:b.toLowerCase(),operator:"AND",isQuoted:!1,isNegated:!1}]},P=(b,x)=>{const{term:j,isQuoted:p}=x,g=[b.filename||"",b.title||"",b.summary||"",(b.authors||[]).join(" "),(b.keywords||[]).join(" ")].map(N=>N.toLowerCase());return p?g.some(N=>N.includes(j)):j.split(/\s+/).every(B=>g.some(q=>q.includes(B)))},S=O(_);return i.filter(b=>{let x=!0,j=!1;for(const g of S){const N=P(b,g);if(g.isNegated){if(N){x=!1;break}}else j=j||N,g.operator==="AND"?x=x&&N:g.operator==="OR"&&(x=x||N)}return S.every(g=>g.isNegated)?x:x&&j})};a.useEffect(()=>{let i=n;y&&(i=U(i,y)),o&&(i=i.filter(_=>_.category===o)),k&&(i=i.filter(_=>_.difficulty===k)),u(i),G(1),s&&s(i)},[y,o,k,n,s]),a.useEffect(()=>{const _=D*d;let O=c.slice(0,_);if(E){const P=n.find(S=>S.id===E);P&&!O.find(S=>S.id===E)&&(O=[P,...O])}v(O)},[c,D,E,n]);const z=async()=>{$(!0),await new Promise(i=>setTimeout(i,500)),G(i=>i+1),$(!1)},R=h.length<c.length,F=c.length<=50,L=[...new Set(n.map(i=>i.category))],V=[...new Set(n.map(i=>i.difficulty))];return T?e.jsx(ne,{}):l?e.jsx(ae,{error:l,onRetry:()=>typeof window<"u"?window.location.reload():void 0}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("header",{className:"text-center mb-12 relative",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("img",{src:"https://www.fabiolonardoni.it/io_ds.png",alt:"Profile",className:"w-16 h-16 rounded-full mr-4 border-2 border-gray-300"}),e.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"AI & Data Science Library"}),e.jsx("div",{className:"text-4xl ml-4",children:"🤖"})]}),e.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Automated collection of Artificial Intelligence and Data Science documents"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[n.length," documents • Click any document to preview"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Developed by ",e.jsx("a",{href:"https://www.fabiolonardoni.it",className:"text-blue-500 hover:underline",children:"Fabio Lonardoni"})]})]}),e.jsx(re,{searchTerm:y,setSearchTerm:A,selectedCategory:o,setSelectedCategory:I,selectedDifficulty:k,setSelectedDifficulty:C,categories:L,difficulties:V}),c.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600 bg-white px-4 py-2 rounded-lg",children:["📊 Showing ",h.length," of ",c.length," documents",c.length!==n.length&&e.jsxs("span",{className:"text-gray-400",children:[" (filtered from ",n.length," total)"]})]}),e.jsxs("div",{className:`text-xs px-3 py-1 rounded-full ${F?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:["Knowledge Graph: ",F?"Available":"Unavailable"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:h.map(i=>e.jsx(te,{doc:i,autoOpen:E===i.id},i.id))}),R&&e.jsx("div",{className:"mt-8 text-center",children:e.jsx("button",{onClick:z,disabled:M,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",children:M?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Loading..."]}):`Load More (${c.length-h.length} remaining)`})})]}):e.jsxs("div",{className:"text-center py-16 bg-white rounded-lg",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📭"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No documents found"}),e.jsx("p",{className:"text-gray-500",children:"Try modifying your search criteria"})]})]})})},ie=({documents:t,width:s,height:n,onNodeClick:r,onNodeHover:c})=>e.jsxs("div",{className:"p-6",style:{width:s,height:n},children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Knowledge Graph"}),e.jsx("p",{className:"text-gray-600",children:"Knowledge graph component will be implemented here."}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Documents: ",t.length," | Size: ",s,"x",n]})]});class oe extends a.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("ErrorBoundary caught an error:",s,n)}render(){return this.state.hasError?this.props.fallback||e.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800 mb-3",children:[e.jsx("span",{className:"text-lg",children:"⚠️"}),e.jsx("h3",{className:"font-semibold",children:"Something went wrong"})]}),e.jsx("p",{className:"text-red-700 text-sm mb-4",children:"An error occurred while rendering this component."}),e.jsx("button",{onClick:()=>this.setState({hasError:!1}),className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Try Again"})]}):this.props.children}}const de=({initialView:t="library"})=>{const[s,n]=a.useState([]),[r,c]=a.useState([]),[u,h]=a.useState(t),[v,y]=a.useState(null),[A,o]=a.useState(!0),[I,k]=a.useState(!1),[C,T]=a.useState(null),w=r.length>0?r.length<=50:s.length<=50;a.useEffect(()=>{(async()=>{try{const z=["/tech_documents/data/documents.json","/data/documents.json","./data/documents.json"];let R=null;for(const F of z)try{const L=await fetch(F);if(L.ok){R=await L.json();break}}catch(L){console.warn(`Failed to load from ${F}:`,L)}R?n(R):(console.error("Could not load documents from any path"),n([]))}catch(d){console.error("Error loading documents:",d),n([])}finally{o(!1)}})()},[]),a.useEffect(()=>{typeof window<"u"&&"serviceWorker"in navigator&&navigator.serviceWorker.register("/tech_documents/sw.js").then(d=>{console.log("Service Worker registered:",d)}).catch(d=>{console.warn("Service Worker registration failed:",d)})},[]);const l=f=>f.map(d=>({...d,title:d.title||d.filename,authors:d.authors||[],content_preview:d.content_preview||d.summary.substring(0,200)+"..."})),m=f=>{y(f);const d=s.find(U=>U.id===f.id);d&&(T(d),k(!0))},D=()=>{k(!1),T(null)},G=f=>{},M=()=>{h("graph")},$=f=>{const d=`https://raw.githubusercontent.com/lonardonifabio/tech_documents/main/${f}`;return`https://mozilla.github.io/pdf.js/web/viewer.html?file=${encodeURIComponent(d)}`},E=f=>`https://github.com/lonardonifabio/tech_documents/blob/main/${f}`;return A?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("div",{className:"text-lg text-gray-600",children:"Loading document library..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center py-4 gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"AI & Data Science Document Library"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:[s.length," documents • Interactive knowledge graph powered by AI"]})]}),e.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>h("library"),className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-md transition-colors ${u==="library"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"📚 Library View"}),e.jsx("span",{className:"sm:hidden",children:"📚 Library"})]}),e.jsxs("button",{onClick:()=>h("graph"),disabled:!w,className:`flex-1 sm:flex-none px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium rounded-md transition-colors ${u==="graph"?"bg-white text-gray-900 shadow-sm":w?"text-gray-600 hover:text-gray-900":"text-gray-400 cursor-not-allowed"}`,title:w?"Open Knowledge Graph":`Knowledge Graph unavailable (${r.length>0?r.length:s.length} results > 50 limit)`,children:[e.jsxs("span",{className:"hidden sm:inline",children:["🕸️ Knowledge Graph",!w&&e.jsxs("span",{className:"ml-1 text-xs",children:["(",r.length>0?r.length:s.length,"/50)"]})]}),e.jsxs("span",{className:"sm:hidden",children:["🕸️ Graph",!w&&e.jsxs("span",{className:"ml-1 text-xs",children:["(",r.length>0?r.length:s.length,"/50)"]})]})]})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u==="library"?e.jsx("div",{className:"bg-white rounded-lg shadow-sm",children:e.jsx(le,{onKnowledgeGraphClick:M,onFilteredDocumentsChange:c})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>h("library"),className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-800 transition-colors",children:"← Back to Library"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing knowledge graph for ",r.length>0?r.length:s.length," documents",r.length>0&&r.length!==s.length&&e.jsxs("span",{className:"text-gray-400",children:[" (filtered from ",s.length," total)"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Interactive Knowledge Graph"}),e.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Explore document relationships based on AI-generated embeddings. Documents are clustered by topic and connected by semantic similarity.",e.jsxs("span",{className:"block mt-2 text-blue-600 font-medium",children:["📊 Input: ",s.length," documents from search results"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Node size = File size"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:"Colors = AI-detected topics"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-8 h-0.5 bg-gray-400"}),e.jsx("span",{children:"Links = Semantic similarity"})]})]})]}),v&&e.jsxs("div",{className:"ml-6 p-4 bg-gray-50 rounded-lg max-w-sm",children:[e.jsx("h3",{className:"font-medium text-sm mb-2",children:"Selected Document:"}),e.jsx("p",{className:"text-sm font-semibold mb-1",children:v.title}),e.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:[v.summary.substring(0,100),"..."]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("a",{href:$(v.filepath),target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",children:"View PDF"}),e.jsx("a",{href:E(v.filepath),target:"_blank",rel:"noopener noreferrer",className:"text-xs border border-gray-300 text-gray-700 px-2 py-1 rounded hover:bg-gray-50",children:"GitHub"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-3 sm:p-6",children:e.jsx(oe,{fallback:e.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800 mb-3",children:[e.jsx("span",{className:"text-lg",children:"⚠️"}),e.jsx("h3",{className:"font-semibold",children:"Knowledge Graph Error"})]}),e.jsx("p",{className:"text-red-700 text-sm mb-4",children:"The knowledge graph failed to load. This might be due to:"}),e.jsxs("ul",{className:"text-red-700 text-sm mb-4 list-disc list-inside",children:[e.jsx("li",{children:"Ollama not running locally (required for AI embeddings)"}),e.jsx("li",{children:"CORS configuration issues"}),e.jsx("li",{children:"Large dataset processing errors"}),e.jsx("li",{children:"Browser compatibility issues"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>typeof window<"u"?window.location.reload():void 0,className:"px-4 py-2 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Reload Page"}),e.jsx("button",{onClick:()=>h("library"),className:"px-4 py-2 border border-red-300 text-red-700 text-sm rounded hover:bg-red-50 transition-colors",children:"Back to Library"})]})]}),children:e.jsx(ie,{documents:l(r.length>0?r:s),width:typeof window<"u"?Math.min(window.innerWidth-100,1e3):1e3,height:typeof window<"u"?Math.min(window.innerHeight-300,700):700,onNodeClick:m,onNodeHover:G})})}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Use the Knowledge Graph"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-blue-800",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"🖱️ Interactions:"}),e.jsxs("ul",{className:"space-y-1 text-blue-700",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Click"})," nodes to open document preview popup"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Hover"})," to see document previews"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Drag"})," nodes to reposition them"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Scroll"})," to zoom in/out"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"🎯 Features:"}),e.jsxs("ul",{className:"space-y-1 text-blue-700",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Category filtering"})," to focus on specific areas"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Tag filtering"})," based on available keywords"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Topic filtering"})," by AI-detected themes"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Semantic connections"})," show related documents"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Offline support"})," via service worker caching"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"AI-powered"})," topic detection and clustering"]})]})]})]})]})]})}),e.jsx("footer",{className:"bg-white border-t mt-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm text-gray-600",children:[e.jsx("div",{children:e.jsxs("p",{children:["Powered by"," ",e.jsx("a",{href:"https://d3js.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"D3.js"})," ","and"," ",e.jsx("a",{href:"https://ollama.ai/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Ollama"})," ","• Built with"," ",e.jsx("a",{href:"https://astro.build/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Astro"})," ","and"," ",e.jsx("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"React"})]})}),e.jsx("div",{className:"mt-2 md:mt-0",children:e.jsx("p",{children:"Interactive Knowledge Graph • Bundle size optimized • Works offline"})})]})})}),C&&e.jsx(Q,{doc:C,isOpen:I,onClose:D})]})};export{de as default};
